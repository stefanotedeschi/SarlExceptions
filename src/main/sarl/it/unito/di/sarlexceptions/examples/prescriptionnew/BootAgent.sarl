package it.unito.di.sarlexceptions.examples.prescriptionnew

import io.sarl.core.Initialize
import io.sarl.core.Lifecycle
import java.util.UUID
import io.sarl.core.DefaultContextInteractions
import it.unito.di.sarlexceptions.spaces.ExceptionSpace
import it.unito.di.sarlexceptions.spaces.ExceptionSpaceSpecification

agent BootAgent {
	
	uses Lifecycle, DefaultContextInteractions

	on Initialize {
		
		var exSpace : ExceptionSpace

		exSpace = defaultContext.getOrCreateSpaceWithSpec(typeof(ExceptionSpaceSpecification),
			UUID::randomUUID)
		
		spawn(Patient, exSpace)
		spawn(Doctor, exSpace)
		spawn(Pharmacist, exSpace)
		spawn(NationalHealthService, exSpace)
		spawn(SubstituteDoctor, exSpace)

		killMe
	
	}
}
